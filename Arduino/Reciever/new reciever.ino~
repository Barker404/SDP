#include <SerialCommand.h>
#include <SoftwareSerial.h>

SerialCommand SCmd;

void setup()
{
	pinMode(8, OUTPUT);				// Set the radio pin to output.
	digitalWrite(8, HIGH);			// Turn on the radio.
	Serial.begin(115200);			// Start the serial port at 115200 baud (correct for XinoRF and RFu, if using XRF + Arduino you might need 9600).
	Serial.print("STARTED");		// Send a message across the radio.
	
	SCmd.addCommand("FORWARDS 50", forwards50);		// Set arduino to run forwards50() on receiving the command "FORWARDS 50".
	SCmd.addCommand("FORWARDS 10", forwards10);		// Set arduino to run forwards10() on receiving the command "FORWARDS 10".
	SCmd.addCommand("BACKWARDS 20", backwards20);	// Set arduino to run backwards20() on reveiving the command "BACKWARDS 20".
	SCmd.addCommand("KICK", kick);					// Set arduino to run kick() on receiving the command "KICK".
	
	SCmd.addDefaultHandler(unrecognized);			// Set arduino to run unrecognised() on receiving an unrecognised command.
}
void loop()
{
	SCmd.readSerial();
}

void forwards50()
{
	Serial.println("The robot is now moving forwards 50cm.");
}
void forwards10()
{
	Serial.println("The robot is now moving forwards 10cm.");
}
void backwards20()
{
	Serial.println("The robot is now moving backwards 20cm.");
}
void kick()
{
	Serial.println("The robot is now kicking.");
}

void unrecognized()
{
	Serial.println("Command unrecognised."); 
}
